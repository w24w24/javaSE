# 一、面向对象编程（基础）

学习目录：

1、类与对象

2、成员方法★★★★★★

3、成员方法传参机制★★★★★★

4、重载（overload）

5、可变参数

6、作用域

7、构造器★★★★★★

8、this



# 二、引出类与对象

看一个问题，从而引出类与对象：

张老太养了2只猫：

一只叫小白，一直叫小花；

小白今年3岁，小花今年100岁；

小白是白色的，小花是花色的

需求：请编写一个程序，当用户输入小猫的名字的时候，就显示该猫的名字、年龄、颜色。如果用户输入小猫的名字错误，就显示张老太没有养这只猫

## 1、使用传统的“定义单独变量”来解决

```java
String name1 = "小白";
String name2 = "小花";

int age1 = 3;
int age2 = 100;

String color1 = "白色";
String color2 = "花色";
```

问题：不利于数据的管理，体现在以下方面

1、假设将来猫很多，你如何添加数据？

2、假设后期还想要给猫增加新的属性：体重、爱吃食物，需要逐个添加？

3、使用3个变量将一只猫的信息拆解了，后期维护很麻烦

## 2、使用“数组”来解决

```java
String[] xb = {"小白","3","白色"};
String[] xh = {"小花","100","花色"};
```

问题：不利于数据的管理，体现在以下方面

1、假设将来想要取得数组中猫的年龄，或者是增加一个体重，显然使用int表示会更加合理！！但是在数组中使用的是String表示的，所以就造成了数据类型体现不出来

2、假如将来想要拿到数组中的某一个元素，只能通过下标来取，造成名字和内容是不对应的

```java
String[] xb = {"小白","3","白色"};
// 想要猫的名字
xb[0]
// 谁知道你xb[0]想要表达的是什么意思？
```

3、比如猫有一些行为，如：跳舞、后空翻，使用数组这种结构是无法体现的



# 三、类与对象

#### 一个程序就是一个世界，这个世界中有很多事物【事物：有属性（年龄、身高、姓名）、行为（吃饭、睡觉、打游戏）】

## 1、类与对象的关系示意：

| 抽象出一个类 | 数据类型（程序员“自定义”的数据类型） | 对象实例     |
| ------------ | ------------------------------------ | ------------ |
| 猫类         | Cat（这个类里面有属性、行为）        | 小白、小花   |
| 人类         | Person（这个类里面有属性、行为）     | 韩顺平、杨雅 |
| ......       | ........                             | .......      |

## 2、类也是一种“数据类型”

如：上面的数据类型Cat、Person，这个数据类型是程序员自定义的，和java系统定义的int、float、String是一样的，可以直接使用它来修饰数据，如下：

```
// Person、int都是数据类型，用来定义变量的数据类型
Person ming
int age
```

## 3、从类到对象

也就是说：先定义类，再使用类这个数据类型去创建对应的对象的过程

```
你先创建了一个猫类Cat，再使用猫类这个数据类型去定义具体的对象xiaoHua的过程
```

#### 这个过程有以下说法：创建一个对象、实例化一个对象、把类实例化都是用来形容这个过程的

#### java最大的特点就是：面向对象



# 四、面向对象快速入门

解决上述的猫问题：使用传统的变量和数组来管理都是有缺陷的，但是使用类与对象来进行管理是很方便的

```java
public class Test {
    public static void main(String[] args) {
        // 创建第一个猫对象
        Cat cat1 = new Cat();
        cat1.name = "笑话";
        cat1.age = 3;
        cat1.color = "white";
        // 创建第二个猫对象
        Cat cat2 = new Cat();
        cat2.name = "你好";
        cat2.age = 10;
        cat2.color = "black";
    }
}
// 定义一个猫类
class Cat {
    // 属性
    String name;
    int age;
    String color;
    
    // 行为
}
```

通过上面的概念和示例，可以得出结论：

1、类是抽象的、概念的，代表一类事物，比如人类、猫类....，类是一种数据类型，一种由于程序员自己定义的数据类型

2、对象是具体的、实际的，代表一个具体的事物，即是实例

3、类是对象的模板，对象是类的一个个体，对应一个实例



# 五、对象在内存中的布局★★★★★★

解析：用来更好的理解，对象在内存中布局是什么样子的

![image-20240108215505604](C:\Users\谭磊\AppData\Roaming\Typora\typora-user-images\image-20240108215505604.png)

解析：内存解析

1、当我们创建对象的时候，会像创建一个传统变量一样，先在栈中存放这个变量名cat

2、因为我们的变量不是基本数据类型，而是引用数据类型，所以并不是将cat属性值放置在栈中的，而是通过一个地址，指向堆中的空间

3、在堆中放置第一个属性值，但是我们又发现，name这个属性值是String类型，String又是属于引用数据类型的，所以又指向一个地址，而这个地址指向的属性值被放置到了方法区中的常量池中，color也是一样的【注：从jdk1.7开始，常量池中的数据被放置到了堆中】

4、我们在创建对象的时候，jvm会自动地加载Cat类信息到方法区中【加载的信息有：属性信息、行为(方法信息)】





# 六、属性？

1、属性：就是类中定义的一些字段，如下

```java
class Person {
    String name; // 属性/字段field/成员变量
}
```

#### 属性 = 字段field = 成员变量：都是指name！这些叫法虽然不同，但是指向的都是name

2、属性是类的一个组成部分，一般是基本数据类型，也可以是引用数据类型（对象、数组），如下

```java
class Person {
    int age; // 普通属性
    String name; // 对象属性
    String[] master; // 数组属性
}
```



# 七、属性注意细节？

属性的英文单词是：properties

1、属性的定义语法同变量，示例：访问修饰符 属性类型 属性名

```
访问修饰符：控制属性的访问范围
有4种访问修饰符：public、proctected、默认修饰符(默认是public)、private【在这里暂时先不讲解，在java中级中的修饰符中专门进行讲解】
```

2、属性的定义类型可以为任意类型，包含基本数据类型和引用数据类型

```java
class Person {
    String name; // 基本数据类型
    int age; // 基本数据类型
    String[] master; // 引用数据类型
    int[] grade; // 引用数据类型
}
```

3、属性如果不赋值，是有默认值的，这个默认值和前面的数据类型有关！规则和数组是一致的（数组不赋值为0）

```java
// 数据类型默认值：
int = 0;
short = 0;
byte = 0;
long = 0;
float = 0.0;
double = 0.0;
char = \u0000;
boolean = false;
String = null;
```



案例演示理解：

```java
public class Test {
    public static void main(String[] args) {
        // person ming 是指：一个人的名字，这个名字指向的真正对象是 new Person()
        // Person ming 是对象的引用，真正意义上的对象是 new Person()及其它在内存中的数据
        // 比喻：一个人出生了，它的爸爸给它起了一个名字叫ming，ming只是它的名字，真正的对象是指向它这个人的
        Person ming = new Person();
    }
}
// 创建Person类
class Person {
    String name;
    int age;
    int grade;
}
```

拆分理解：

```java
Person ming = new Perosn();
// Person ming 只是对象的引用【相当于一个人的名字】
// new Perosn()和它包含的数据 才是真正的对象【相当于名字指向的人】
```

#### 对象的引用(对象名)是前面的Perosn ming，真正的对象(主体)是new Person( )



# 七、创建对象的两种形式？

语法格式：

```
1、先声明，再创建
Cat cat; // 声明
cat = new Cat(); // 创建

2、直接创建
Cat cat = new Cat(); // 直接声明创建
```

# 八、如何访问属性？

语法格式：直接使用这种方式就可以访问到属性

```
对象名.属性名

// 示例：
cat.name;
cat.age;
cat.color;
```



# 九、类与对象的分配机制？★★★★★★

类与对象在内存中的表示方法：

![image-20240109203840102](C:\Users\谭磊\AppData\Roaming\Typora\typora-user-images\image-20240109203840102.png)

 解析：

1、先执行第一句语句：Person p1 = new Person( );首先会将Person这个类的信息【属性信息、方法信息】加载到内存中的方法区

2、这个时候还不会直接到p1.age = 10;因为还没有在堆中创建内存空间，所以这个时候会先在内存中创建一个空间，地址是0x00110，这个时候还没有初始化name和age的数据，所以是默认值【null、0】

3、这个时候在内存的堆中已经创建了空间，所以可以进入到p1.age = 10; p1.name = "小明";

4、因为已经对Person中的name、age属性赋值了，所以会在堆中放入age的值80！但是不会将name的值放置在堆中，而是使用一个地址指向方法区！因为name是String，属于引用数据类型，所以name会放置在方法区中的常量池中

5、Person p2 = p1;的意思是将p1这个对象给到p2【或者说p2引用p1】，因为是引用数据类型，所以使用的是地址拷贝，因此p2.age输出的是10

#### 利用上述这个图，就可以很好的理解对象在内存中的分配机制与存储

# 十、java内存的结构分析？

1、栈：一般存放基本数据类型【或者是局部变量，后面会进行讲解】

2、堆：存放对象【Cat cat、数组等】

3、方法区：常量池【常量，比如：String字符串】、类加载信息



# 十一、java创建对象的简单分析？★★★★★★

示例：

```java
// 创建的对象
Person p = new Person();
p.name = "jack";
p.age = 10;

// 创建的类
class Person {
    // 属性
    String name;
    int age;
    // 方法
    .....
}
```

#### 一、先创建对象，即new Person( )

1、先加载class Person的类信息（属性和方法信息，<font color="red">只会加载一次</font>）

2、在堆中分配空间，进行默认初始化【<span style="color:red">String的初始值null、int的初始值0</span>】

#### 二、创建完成之后，将new Person( )在堆中创建的地址赋给p

1、p的地址直接指向了已经创建的对象

2、之后就是进行指定初始化，<span style="color:red">p.name = "jack"、p.age = 10</span>



# 十二、练习题目？

```java
public class Test {
    public static void main(String[] args) {
        // 创建对象
        Person a = new Person();
        a.name = "小明";

        Person b;
        b = a;
        System.out.println(b.name); // 输出：小明
        b.age = 200;
        b = null; // 这里的null是将自己的地址清空，不再指向a
        System.out.println(a.age); // 200
        System.out.println(b.age); // Exception异常
    }
}
// 创建一个Person类
class Person {
    // 属性
    String name;
    int age;
}
```