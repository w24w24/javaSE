# 事件委托（代理、委派）：其实就是在父节点上注册事件，利用冒泡原理影响子节点的设置

解析：由于事件冒泡会带来坏处，也会带来`好处`【这一节重点讲解好处】。生活中有如下场景：

班级有100个学生，快递员有100个快递，一个一个的送花费的时间太长，每个血汗俄国领取的时候也需要排队，也花费时间长，何如（怎么解决）？

#### 解决方案：快递员把100个快递，`委托`给班主任，班主任把这些快递放到办公室，同学们下课自行领取即可

优势：快递员省事，委托给班主任就可以走了，同学们领取也方便，因为相信班主任

## 一、案例深入理解

```html
<ul>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
</ul>
```

问题：点击每一个li都会弹出对话框，以前需要给每个li注册时间，是非常辛苦的，而且访问DOM的次数越多，就会延长整个页面的交互就绪时间，如何解决？

#### 解决方案：事件委托

解析：

定义：事件委托也称为事件代理，在jquery中称之为事件委派

原理：不是每个子节点单独设置事件监听器，而是事件监听器的设置在其父节点上，然后利用冒泡原理影响每个子节点的设置

以上案例：给ul注册点击事件，然后利用事件对象的target来找到当前点击的li，因为点击li事件会冒泡到ul上，u里也有注册事件，就会注册事件监听器

事件委托的作用：我们只操作了一次DOM，提高了程序的性能

```html
<!--    HTML代码-->
<ul>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
</ul>

<!--    JS代码-->
<script>
    //事件委托的原理：给父节点添加侦听器，利用事件冒泡影响每一个子节点
    let ul = document.querySelector('ul');
    ul.addEventListener('click',function() {
        alert('知否知否，应该有弹框在手');
    });

</script>
```

改变被点击的元素的样式，可以利用e.target：

```html
<!--    HTML代码-->
<ul>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
    <li>知否知否，应该有弹框在手</li>
</ul>

<!--    JS代码-->
<script>
    //事件委托的原理：给父节点添加侦听器，利用事件冒泡影响每一个子节点
    let ul = document.querySelector('ul');
    ul.addEventListener('click',function(e) {
        //alert('知否知否，应该有弹框在手');
        //点击谁改变谁的颜色：利用e.target获取到被点击的元素
        e.target.style.backgroundColor = 'pink';
    });

</script>
```